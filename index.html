<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Color & Beauty Studio</title>
    <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0b1120;
            --card-bg: #1e293b;
            --accent: #8b5cf6;
            --text-main: #ffffff;
            --text-muted: #94a3b8;
            --skin-tone: #dcbfa3;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .dashboard {
            width: 100%;
            max-width: 400px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* --- NAVIGATION TABS --- */
        .nav-tabs {
            display: flex;
            background: var(--card-bg);
            padding: 5px;
            border-radius: 12px;
            margin-bottom: 10px;
        }

        .tab-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: transparent;
            color: var(--text-muted);
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            transition: 0.3s;
        }

        .tab-btn.active {
            background: var(--accent);
            color: white;
            box-shadow: 0 2px 10px rgba(139, 92, 246, 0.4);
        }

        /* --- CONTENT SECTIONS --- */
        .view-section {
            display: none; /* ‡¶∏‡¶¨ ‡¶≤‡ßÅ‡¶ï‡¶ø‡ßü‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶¨‡ßá, JS ‡¶¶‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá */
            animation: fadeIn 0.3s ease;
        }
        .view-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- 1. WEB DESIGN VIEW STYLES --- */
        .card {
            background-color: var(--card-bg);
            border: 1px solid #334155;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .contrast-box {
            background-color: var(--accent);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            margin-bottom: 10px;
            transition: background 0.2s;
        }

        .badge {
            background: rgba(0,0,0,0.3);
            color: #4ade80;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
        }

        .value-row {
            background: #0f172a;
            padding: 12px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            border: 1px solid #334155;
            cursor: pointer;
        }

        /* --- 2. LIPSTICK TESTER STYLES --- */
        .makeup-area {
            position: relative;
            width: 100%;
            height: 240px;
            border-radius: 16px;
            overflow: hidden;
            border: 2px solid #333;
            background-color: var(--skin-tone);
            background-image: radial-gradient(circle, transparent 40%, rgba(0,0,0,0.2) 100%);
            margin-bottom: 15px;
        }

        .real-lips-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            background-image: url('https://images.unsplash.com/photo-1596462502278-27bfdd403cc2?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80');
            background-position: center 65%;
            background-size: 130%;
            mask-image: radial-gradient(ellipse at center, black 30%, transparent 65%);
            -webkit-mask-image: radial-gradient(ellipse at center, black 30%, transparent 65%);
            mix-blend-mode: multiply;
        }

        .lipstick-svg {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 100%; height: 100%;
            mix-blend-mode: multiply;
            opacity: 0.6;
            filter: blur(5px);
            pointer-events: none;
        }

        .beauty-info {
            text-align: center;
            margin-bottom: 10px;
        }
        .brand-name { font-family: 'Playfair Display', serif; color: #ec4899; font-size: 20px; }

        /* --- SHARED COLOR WHEEL (BOTTOM) --- */
        .wheel-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.2);
        }
        #picker { display: flex; justify-content: center; }

        footer { text-align: center; font-size: 11px; color: #64748b; margin-top: 20px; }
    </style>
</head>
<body>

    <div class="dashboard">
        
        <div class="nav-tabs">
            <button class="tab-btn active" onclick="switchTab('web')">üé® Web Design</button>
            <button class="tab-btn" onclick="switchTab('beauty')">üíÑ Lipstick Test</button>
        </div>

        <div id="web-view" class="view-section active">
            <div class="card">
                <div style="font-size:12px; color:#94a3b8; margin-bottom:10px;">CONTRAST CHECK</div>
                <div id="contrastBox" class="contrast-box" style="color: white;">
                    Text Readability
                </div>
                <div style="text-align:center;">
                    <span id="contrastBadge" class="badge">Good with White Text</span>
                </div>
            </div>

            <div class="card">
                <div style="font-size:12px; color:#94a3b8; margin-bottom:10px;">CODES</div>
                <div class="value-row" onclick="copyText('hexValue')">
                    <span id="hexValue">#8b5cf6</span> <span>HEX</span>
                </div>
                <div class="value-row" onclick="copyText('rgbValue')">
                    <span id="rgbValue">rgb(139, 92, 246)</span> <span>RGB</span>
                </div>
                <div class="value-row">
                    <span id="colorNameWeb">Loading...</span> <span>NAME</span>
                </div>
            </div>
        </div>

        <div id="beauty-view" class="view-section">
            <div class="makeup-area">
                <div class="real-lips-img"></div>
                <svg id="lipMask" class="lipstick-svg" viewBox="0 0 200 130">
                    <path d="M20,60 C50,40 100,45 100,55 C100,45 150,40 180,60 C150,75 100,85 100,85 C100,85 50,75 20,60 Z" fill="#8b5cf6" />
                    <path d="M25,65 C60,80 100,85 100,85 C100,85 140,80 175,65 C160,110 100,115 100,115 C100,115 40,110 25,65 Z" fill="#8b5cf6" />
                </svg>
            </div>
            
            <div class="card beauty-info">
                <div class="brand-name" id="brandName">MAC</div>
                <div style="font-size:11px; color:#ccc;">SHADE: <span id="shadeName">VELVET TEDDY</span></div>
                
                <div style="margin-top:15px; display:flex; justify-content:space-between; font-size:10px; color:#888;">
                    <span>Intensity</span>
                    <input type="range" id="opacitySlider" min="0.1" max="1" step="0.1" value="0.6" style="width:60%;">
                </div>
            </div>
        </div>

        <div class="wheel-card">
            <div id="picker"></div>
        </div>

        <footer>
            Developed by Yeasin Kabir | ¬© 2026
        </footer>
    </div>

    <script>
        // --- 1. SETUP & DATA ---
        const makeupDB = [
            { name: "Ruby Woo", brand: "MAC", hex: "#be002f" },
            { name: "Velvet Teddy", brand: "MAC", hex: "#a46e5f" },
            { name: "Pioneer", brand: "Maybelline", hex: "#8F1920" },
            { name: "Lover", brand: "Maybelline", hex: "#a56672" },
            { name: "Heroine", brand: "MAC", hex: "#5e2069" },
            { name: "Cyber", brand: "MAC", hex: "#2a1624" }
        ];

        var colorPicker = new iro.ColorPicker("#picker", {
            width: 250,
            color: "#8b5cf6",
            borderWidth: 2,
            borderColor: "#fff",
            layout: [
                { component: iro.ui.Wheel },
                { component: iro.ui.Slider, options: { sliderType: 'value' } }
            ]
        });

        // Elements
        const webView = document.getElementById('web-view');
        const beautyView = document.getElementById('beauty-view');
        const contrastBox = document.getElementById('contrastBox');
        const hexDisplay = document.getElementById('hexValue');
        const rgbDisplay = document.getElementById('rgbValue');
        const colorNameWeb = document.getElementById('colorNameWeb');
        const lipPaths = document.querySelectorAll('#lipMask path');
        const brandName = document.getElementById('brandName');
        const shadeName = document.getElementById('shadeName');

        // --- 2. TAB SWITCHING LOGIC ---
        function switchTab(tab) {
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            if (tab === 'web') {
                webView.classList.add('active');
                beautyView.classList.remove('active');
                buttons[0].classList.add('active');
            } else {
                beautyView.classList.add('active');
                webView.classList.remove('active');
                buttons[1].classList.add('active');
            }
        }

        // --- 3. MAIN COLOR CHANGE LOGIC ---
        colorPicker.on('color:change', function(color) {
            const hex = color.hexString;

            // Update Web Mode
            hexDisplay.textContent = hex;
            rgbDisplay.textContent = color.rgbString;
            contrastBox.style.backgroundColor = hex;
            
            // Contrast Check Logic
            const lum = (0.299 * color.rgb.r + 0.587 * color.rgb.g + 0.114 * color.rgb.b) / 255;
            if (lum > 0.5) {
                contrastBox.style.color = "black";
                document.getElementById('contrastBadge').textContent = "Black Text is Better";
            } else {
                contrastBox.style.color = "white";
                document.getElementById('contrastBadge').textContent = "White Text is Better";
            }

            // Update Beauty Mode
            lipPaths.forEach(p => p.setAttribute('fill', hex));
            const match = findMatch(hex);
            brandName.textContent = match.brand;
            shadeName.textContent = match.name;
            brandName.style.color = hex; // Brand name takes color too

            // Get Name API (Shared)
            fetchColorName(hex);
        });

        // Helper: Find closest lipstick
        function findMatch(hex) {
            let closest = makeupDB[0], minDiff = Infinity;
            const r1 = parseInt(hex.substring(1,3), 16), g1 = parseInt(hex.substring(3,5), 16), b1 = parseInt(hex.substring(5,7), 16);
            makeupDB.forEach(item => {
                const r2 = parseInt(item.hex.substring(1,3), 16), g2 = parseInt(item.hex.substring(3,5), 16), b2 = parseInt(item.hex.substring(5,7), 16);
                const diff = Math.sqrt(Math.pow(r2-r1, 2) + Math.pow(g2-g1, 2) + Math.pow(b2-b1, 2));
                if(diff < minDiff) { minDiff = diff; closest = item; }
            });
            return closest;
        }

        // Helper: Slider
        document.getElementById('opacitySlider').addEventListener('input', function() {
            document.getElementById('lipMask').style.opacity = this.value;
        });

        // Helper: Fetch Name
        let timeout;
        function fetchColorName(hex) {
            clearTimeout(timeout);
            colorNameWeb.textContent = "...";
            timeout = setTimeout(async()=>{
                try {
                    const res = await fetch(`https://www.thecolorapi.com/id?hex=${hex.substring(1)}`);
                    const data = await res.json();
                    colorNameWeb.textContent = data.name.value;
                } catch(e) {}
            }, 300);
        }

        // Helper: Copy
        function copyText(id) {
            const text = document.getElementById(id).innerText;
            navigator.clipboard.writeText(text);
            alert("Copied: " + text);
        }

    </script>
</body>
</html>
